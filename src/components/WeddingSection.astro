---
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<section id="wedding" class="bg-white pt-20 h-screen w-screen text-center relative overflow-hidden">

	<div class="relative z-30 h-full flex flex-col-reverse lg:flex-row items-center">

		<div class="flex flex-col gap-5 lg:gap-10 text-gray-900 pt-6 lg:pt-0">
			<h2 class="font-semibold text-4xl lg:text-5xl">{t('our.title')}</h2>
			<p class="lg:px-28 px-6">{t('our.paragraph')}</p>
			<div class="flex flex-col items-center justify-center gap-y-4 text-gray-900">
				<div class="flex justify-center items-center lg:gap-x-10 gap-7 text-xl">
					<p class="day"></p>:
					<p class="hour"></p>:
					<p class="min"></p>:
					<p class="sec"></p>
				</div>
				<div class="font-semibold flex text-xl lg:gap-x-14 gap-x-9">
					<p>{t('our.day')}</p>
					<p>{t('our.hour')}</p>
					<p>{t('our.min')}</p>
					<p>{t('our.sec')}</p>
				</div>
			</div>
			<p class="font-eye text-4xl lg:text-5xl lg:pt-20 pb-10">{t('our.phrase')}</p>
		</div>

		<div>
			<img
				src="/foto-wedding.jpg" 
				alt="Yeldy y Jack" 
				class="object-cover object-center w-full h-full" 
			/>
		</div>
	
	</div>
	
	<div class="absolute top-16 bottom-16 h-full w-full z-10 opacity-20">
		<img
			src="/mapa.png" 
			alt="Yeldy y Jack" 
			class="object-cover object-center w-full h-full" 
		/>
	</div>

</section>

<script>
	function actualizarContador() {
// Fecha objetivo
	const fechaObjetivo = new Date("2023-12-15T23:59:59");

	// Fecha actual
	const fechaActual = new Date();

	// Diferencia en milisegundos entre las fechas
	const diferencia = fechaObjetivo - fechaActual;

	// Cálculos para obtener los días, horas, minutos y segundos restantes
	const dias = Math.floor(diferencia / (1000 * 60 * 60 * 24));
	const horas = Math.floor((diferencia % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
	const minutos = Math.floor((diferencia % (1000 * 60 * 60)) / (1000 * 60));
	const segundos = Math.floor((diferencia % (1000 * 60)) / 1000);

	// Actualizar el contenido del contador
	document.querySelector(".day").innerHTML = `${dias}`;
	document.querySelector(".hour").innerHTML = `${horas}`;
	document.querySelector(".min").innerHTML = `${minutos}`;
	document.querySelector(".sec").innerHTML = `${segundos}`;

	// Actualizar cada segundo
	setTimeout(actualizarContador, 1000);
}

actualizarContador();

</script>

